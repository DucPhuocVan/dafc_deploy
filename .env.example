# ═══════════════════════════════════════════════════════════════════════════════
#                    DAFC OTB PLATFORM - ENVIRONMENT CONFIGURATION
#                           Production-Ready Settings
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (PostgreSQL)
# ─────────────────────────────────────────────────────────────────────────────
# Connection string with pooling parameters
# connection_limit: Max connections per instance (default: 10)
# pool_timeout: Seconds to wait for connection (default: 30)
DATABASE_URL="postgresql://user:password@localhost:5432/dafc_otb?schema=public&connection_limit=10&pool_timeout=30"

# ─────────────────────────────────────────────────────────────────────────────
# AUTHENTICATION
# ─────────────────────────────────────────────────────────────────────────────
AUTH_SECRET="your-auth-secret-here-min-32-chars"
NEXTAUTH_URL="http://localhost:3000"
JWT_SECRET="your-jwt-secret-here-min-32-chars"
JWT_EXPIRES_IN="7d"

# ─────────────────────────────────────────────────────────────────────────────
# OPENAI (for AI features)
# ─────────────────────────────────────────────────────────────────────────────
OPENAI_API_KEY="sk-your-openai-key"

# ─────────────────────────────────────────────────────────────────────────────
# API (NestJS Backend)
# ─────────────────────────────────────────────────────────────────────────────
API_PORT=3001
API_URL="http://localhost:3001"
NODE_ENV="development"

# CORS origins (comma-separated for multiple)
CORS_ORIGIN="http://localhost:3000"

# ─────────────────────────────────────────────────────────────────────────────
# FRONTEND (Next.js)
# ─────────────────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_URL="http://localhost:3001"

# ─────────────────────────────────────────────────────────────────────────────
# REDIS (for caching & rate limiting) - Optional but recommended for production
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL="redis://localhost:6379"

# ─────────────────────────────────────────────────────────────────────────────
# AWS S3 (for file storage) - Optional
# ─────────────────────────────────────────────────────────────────────────────
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET=""
AWS_S3_REGION="ap-southeast-1"

# ─────────────────────────────────────────────────────────────────────────────
# PERFORMANCE TUNING
# ─────────────────────────────────────────────────────────────────────────────
# Excel processing
EXCEL_MAX_ROWS=100000
EXCEL_CHUNK_SIZE=1000

# Batch processing
BATCH_CHUNK_SIZE=500
BATCH_CONCURRENCY=3

# Cache TTL (seconds)
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=300
CACHE_TTL_LONG=3600

# ─────────────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────────────────
RATE_LIMIT_DEFAULT_POINTS=100
RATE_LIMIT_DEFAULT_DURATION=60
RATE_LIMIT_AUTH_POINTS=5
RATE_LIMIT_AUTH_BLOCK_DURATION=300

# ─────────────────────────────────────────────────────────────────────────────
# MONITORING (Optional)
# ─────────────────────────────────────────────────────────────────────────────
# Sentry
SENTRY_DSN=""

# Logging
LOG_LEVEL="info"
LOG_FORMAT="json"

# ═══════════════════════════════════════════════════════════════════════════════
# PRODUCTION CHECKLIST:
# 1. Set NODE_ENV=production
# 2. Use strong, unique secrets (AUTH_SECRET, JWT_SECRET)
# 3. Configure DATABASE_URL with connection pooling
# 4. Set up Redis for caching
# 5. Configure proper CORS_ORIGIN
# 6. Enable Sentry for error tracking
# ═══════════════════════════════════════════════════════════════════════════════
